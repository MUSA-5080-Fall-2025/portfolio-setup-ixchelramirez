"0","# Filter for vulnerable tracts based on your criteria"
"0",""
"0","income_threshold <- 56000"
"0","elderly_threshold <- 0.25 "
"0",""
"0","cat(""Income threshold (fixed):"", income_threshold, ""\n"")"
"1","Income threshold (fixed):"
"1"," "
"1","56000"
"1"," "
"1","
"
"0","cat(""Elderly threshold (fixed):"", elderly_threshold, ""%\n"")"
"1","Elderly threshold (fixed):"
"1"," "
"1","0.25"
"1"," "
"1","%
"
"0","# Classify tracts based on both criteria"
"0","pa_tracts_vulnerable <- pa_tracts %>%"
"0","  mutate("
"0","    low_income = med_income <= income_threshold,"
"0","    high_elderly = pct_65plus >= elderly_threshold,"
"0","    vulnerable = if_else(low_income & high_elderly, TRUE, FALSE)"
"0","  )"
"0",""
"0","# Count how many tracts meet each condition"
"0","pa_tracts_vulnerable %>%"
"0","  st_drop_geometry() %>%"
"0","  summarise("
"0","    n_low_income = sum(low_income, na.rm = TRUE),"
"0","    n_high_elderly = sum(high_elderly, na.rm = TRUE),"
"0","    n_vulnerable = sum(vulnerable, na.rm = TRUE)"
"0","  )"
