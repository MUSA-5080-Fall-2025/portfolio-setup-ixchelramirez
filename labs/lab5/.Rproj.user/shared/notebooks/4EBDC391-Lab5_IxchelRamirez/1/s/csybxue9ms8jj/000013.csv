"0","# Get predictions on test set"
"0",""
"0","# Create day of week factor with treatment (dummy) coding"
"0","test <- test %>%"
"0","  mutate(dotw_simple = factor(dotw, levels = c(""Mon"", ""Tue"", ""Wed"", ""Thu"", ""Fri"", ""Sat"", ""Sun"")))"
"0",""
"0","# Set contrasts to treatment coding (dummy variables)"
"0","contrasts(test$dotw_simple) <- contr.treatment(7)"
"0",""
"0","test <- test %>%"
"0","  mutate("
"0","    pred1 = predict(model1, newdata = test),"
"0","    pred2 = predict(model2, newdata = test),"
"0","    pred3 = predict(model3, newdata = test),"
"0","    pred4 = predict(model4, newdata = test),"
"0","    pred5 = predict(model5, newdata = test)"
"0","  )"
"0",""
"0","# Calculate MAE for each model"
"0","mae_results <- data.frame("
"0","  Model = c("
"0","    ""1. Time + Weather"","
"0","    ""2. + Temporal Lags"","
"0","    ""3. + Demographics"","
"0","    ""4. + Station FE"","
"0","    ""5. + Rush Hour Interaction"""
"0","  ),"
"0","  MAE = c("
"0","    mean(abs(test$Trip_Count - test$pred1), na.rm = TRUE),"
"0","    mean(abs(test$Trip_Count - test$pred2), na.rm = TRUE),"
"0","    mean(abs(test$Trip_Count - test$pred3), na.rm = TRUE),"
"0","    mean(abs(test$Trip_Count - test$pred4), na.rm = TRUE),"
"0","    mean(abs(test$Trip_Count - test$pred5), na.rm = TRUE)"
"0","  )"
"0",")"
"0",""
"0","kable(mae_results, "
"0","      digits = 2,"
"0","      caption = ""Mean Absolute Error by Model (Test Set)"","
"0","      col.names = c(""Model"", ""MAE (trips)"")) %>%"
"0","  kable_styling(bootstrap_options = c(""striped"", ""hover""))"
