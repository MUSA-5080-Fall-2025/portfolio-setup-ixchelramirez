"0","# ============================================================================"
"0","# ADD NON-RESIDENTIAL INTERACTIONS TO STUDY PANEL"
"0",""
"0","study_panel_complete <- study_panel_complete %>%"
"0","  mutate("
"0","    # Create interaction features for non-residential stations"
"0","    nonres_x_rush = non_residential * rush_hour,"
"0","    nonres_x_morning = non_residential * ifelse(hour %in% c(7,8,9), 1, 0),"
"0","    nonres_x_evening = non_residential * ifelse(hour %in% c(16,17,18), 1, 0),"
"0","    nonres_x_weekend = non_residential * weekend,"
"0","    nonres_x_midday = non_residential * ifelse(hour %in% c(11,12,13,14), 1, 0),"
"0","    nonres_x_lag1 = non_residential * lag1Hour,"
"0","    nonres_x_lag3 = non_residential * lag3Hours,"
"0","    nonres_x_temp = non_residential * Temperature,"
"0","    nonres_x_precip = non_residential * Precipitation"
"0","  )"
"0",""
"0","cat(""✓ Non-residential interaction features added\n"")"
"1","✓ Non-residential interaction features added
"
"0","cat(""  Non-residential observations:"", sum(study_panel_complete$non_residential), "
"0","    ""("", round(mean(study_panel_complete$non_residential)*100, 1), ""%)\n"", sep = """")"
"1","  Non-residential observations:"
"1",""
"1","NA"
"1",""
"1","("
"1",""
"1","NA"
"1",""
"1","%)
"
"0","study_panel_complete <- study_panel_complete %>%"
"0","  mutate("
"0","    dotw_simple = factor(dotw, levels = c(""Mon"", ""Tue"", ""Wed"", ""Thu"", ""Fri"", ""Sat"", ""Sun""))"
"0","  )"
"0",""
"0",""
"0",""
